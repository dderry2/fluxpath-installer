# ============================================
# File: mmu/mmu_calibration.cfg
# Location: ~/printer_data/config/mmu/
#
# Purpose:
#   Lane-aware calibration helpers.
# ============================================

[gcode_macro MMU_CAL_PARK_TO_CUTTER_LANE]
description: Calibrate PARK → CUTTER for a specific lane
gcode:
  {% set lane = params.LANE|int %}
  {% set v = printer["gcode_macro MMU_VARS"] %}
  MMU_SET_LANE LANE={lane}
  RESPOND PREFIX=MMU MSG="CAL: Lane {{ lane }} PARK→CUTTER. Move filament to cutter, measure distance, then update parking_to_cutter_{{ lane }} in mmu_vars.cfg."

[gcode_macro MMU_CAL_CUTTER_TO_FILAMENT_SENSOR]
gcode:
  RESPOND PREFIX=MMU MSG="CAL: Move filament to cutter, then advance until sensor triggers."
  RESPOND PREFIX=MMU MSG="Measure distance and update variable_cutter_to_filament_sensor."

[gcode_macro MMU_CAL_FILAMENT_SENSOR_TO_EXTRUDER]
gcode:
  RESPOND PREFIX=MMU MSG="CAL: Start at filament sensor, advance until extruder grabs."
  RESPOND PREFIX=MMU MSG="Measure distance and update variable_filament_sensor_to_extruder."
