# ============================================
# File: mmu/mmu_vars.cfg
# Location: ~/printer_data/config/mmu/
#
# Purpose:
#   Core MMU variables, including lane count.
#   Lane-aware so slicer can use T0–T3.
# ============================================

[gcode_macro MMU_VARS]

# Number of MMU lanes/colors (1–4)
variable_mmu_lanes: 1

# Currently active lane (1-based)
variable_active_lane: 1

# Per-lane PARK → CUTTER distances (mm)
variable_parking_to_cutter_1: 55
variable_parking_to_cutter_2: 55
variable_parking_to_cutter_3: 55
variable_parking_to_cutter_4: 55

# Shared geometry
variable_cutter_to_filament_sensor: 40
variable_filament_sensor_to_extruder: 60

# Cutter servo
variable_cutter_servo: "mmu_cutter"
variable_cutter_angle_open: 30
variable_cutter_angle_cut: 120

# Nozzle push
variable_nozzle_push: 8.0

gcode:
  RESPOND PREFIX=MMU MSG="MMU_VARS loaded: lanes={{ printer['gcode_macro MMU_VARS'].mmu_lanes }}, active_lane={{ printer['gcode_macro MMU_VARS'].active_lane }}"
